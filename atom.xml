<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>cheerioInf&#39;s Blog</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2022-09-20T09:46:41.748Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>cheerioInf</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ã€ŒçŠ€ç‰›ä¹¦ã€ ç¬¬ä¸€ç«  JSç®€ä»‹</title>
    <link href="http://example.com/2022/09/17/%E3%80%8C%E7%8A%80%E7%89%9B%E4%B9%A6%E3%80%8D-%E7%AC%AC%E4%B8%80%E7%AB%A0-JS%E7%AE%80%E4%BB%8B/"/>
    <id>http://example.com/2022/09/17/%E3%80%8C%E7%8A%80%E7%89%9B%E4%B9%A6%E3%80%8D-%E7%AC%AC%E4%B8%80%E7%AB%A0-JS%E7%AE%80%E4%BB%8B/</id>
    <published>2022-09-17T14:30:50.000Z</published>
    <updated>2022-09-20T09:46:41.748Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç« -JavaScript-ç®€ä»‹"><a href="#ç¬¬ä¸€ç« -JavaScript-ç®€ä»‹" class="headerlink" title="ç¬¬ä¸€ç«  JavaScript ç®€ä»‹"></a>ç¬¬ä¸€ç«  JavaScript ç®€ä»‹</h1><blockquote><p>JavaScript æ˜¯ä¸€é—¨ Web ç¼–ç¨‹è¯­è¨€ï¼Œç»å¤§å¤šæ•°ç½‘ç«™éƒ½ä½¿ç”¨ JavaScriptï¼Œæ‰€æœ‰ç°ä»£ Web æµè§ˆå™¨éƒ½åŒ…å« JavaScript è§£é‡Šå™¨ã€‚åŒæ—¶ Node.js è®©æµè§ˆå™¨ä¹‹å¤–çš„ JavaScript ç¼–ç¨‹ç§°ä¸ºå¯èƒ½ã€‚</p><p>JavaScript æ˜¯ä¸€é—¨é«˜çº§ã€åŠ¨æ€ã€è§£é‡Šå‹ã€å¼±ç±»å‹ç¼–ç¨‹è¯­è¨€ï¼Œéå¸¸é€‚åˆé¢å‘å¯¹è±¡å’Œå‡½æ•°å¼ç¼–ç¨‹é£æ ¼ã€‚æ¯ç§è¯­è¨€éƒ½å¿…é¡»æœ‰ä¸€ä¸ªå¹³å°æˆ–æ ‡å‡†åº“æ¥æ‰§è¡Œæœ€åŸºæœ¬çš„æ“ä½œï¼Œæ ¸å¿ƒ JavaScript è¯­è¨€å®šä¹‰äº†æœ€å°é™åº¦çš„ API ï¼Œå¯ä»¥æ“ä½œæ•°å€¼ã€æ–‡æœ¬ã€æ•°ç»„ã€é›†åˆã€æ˜ å°„ç­‰ï¼Œä½†ä¸åŒ…å«ä»»ä½•è¾“å…¥è¾“å‡ºåŠŸèƒ½ã€‚è¾“å…¥è¾“å‡ºåŠŸèƒ½ä»¥åŠæ›´å¤æ‚çš„çš„ç‰¹æ€§æ˜¯å†…åµŒ JavaScript çš„ã€Œå®¿ä¸»ç¯å¢ƒã€çš„è´£ä»»ã€‚</p><p>æµè§ˆå™¨æ˜¯ JavaScript æœ€æ—©ã€æœ€å¸¸ç”¨çš„å®¿ä¸»ç¯å¢ƒï¼Œå…¶å…è®¸ JavaScript ä»£ç ä»é¼ æ ‡ã€é”®ç›˜ã€å‘é€ HTTP è¯·æ±‚è·å–è¾“å…¥ï¼Œä¹Ÿå…è®¸ JavaScript ä»£ç é€šè¿‡ HTML å’Œ CSS å‘ç”¨æˆ·æ˜¾ç¤ºè¾“å‡ºã€‚</p><p>2020 å¹´ä»¥åï¼ŒJavaScript åˆæœ‰äº†æœåŠ¡å™¨çš„å®¿ä¸»ç¯å¢ƒï¼ŒNode ç»™äºˆäº† JavaScript è®¿é—®æ•´ä¸ªæ“ä½œç³»ç»Ÿçš„æƒé™ï¼Œå…è®¸å…¶è¯»å†™æ–‡ä»¶ã€é€šè¿‡ç½‘ç»œå‘é€å’Œæ¥æ”¶æ•°æ®ã€å‘é€å’Œå¤„ç† HTTP è¯·æ±‚ã€‚Node æ˜¯å®ç° Web æœåŠ¡å™¨çš„ä¸€ç§æµè¡Œæ–¹å¼ï¼Œä¹Ÿæ˜¯ä¾¿æºå¯ä»¥æ›¿ä»£ Shell è„šæœ¬çš„ç®€å•å®ç”¨çš„è„šæœ¬çš„ä¾¿æ·å·¥å…·ã€‚</p></blockquote><h2 id="1-0-ğŸ²-JavaScriptï¼šåå­—ã€ç‰ˆæœ¬ã€æ¨¡å¼"><a href="#1-0-ğŸ²-JavaScriptï¼šåå­—ã€ç‰ˆæœ¬ã€æ¨¡å¼" class="headerlink" title="1.0 ğŸ² JavaScriptï¼šåå­—ã€ç‰ˆæœ¬ã€æ¨¡å¼"></a>1.0 ğŸ² JavaScriptï¼šåå­—ã€ç‰ˆæœ¬ã€æ¨¡å¼</h2><p>JavaScript æœ€åˆæ˜¯ç”±ç½‘æ™¯å…¬å¸ï¼ˆNetscapeï¼‰åˆ›å»ºçš„ï¼Œæœ€å¼€å§‹çš„å‘½åä¸º LiveScriptï¼Œåæ¥ç½‘æ™¯å…¬å¸ä¸ sun å…¬å¸ï¼ˆ Java è¯­è¨€çš„åˆ›å»ºå…¬å¸ï¼‰åˆä½œï¼Œä¸ºäº†æ¨å¹¿ LiveScript è¿™é—¨è¯­è¨€ï¼ˆè¹­çƒ­åº¦ï¼‰ï¼Œå°†å…¶æ”¹åä¸º JavaScript ã€‚å› æ­¤ JavaScript å’Œ Java çš„å…³ç³»ï¼Œå°±å¥½æ¯”é›·é”‹å’Œé›·å³°å¡”ã€è€å©†å’Œè€å©†é¥¼ä¸€æ ·ï¼ŒåŸºæœ¬æ¯«æ— å…³ç³»ã€‚åæ¥ç½‘æ™¯å…¬å¸åˆå°†è¿™é—¨è¯­è¨€äº¤ç»™ Ecma International è¿›è¡Œæ ‡å‡†åŒ–ï¼Œç”±äºå•†æ ‡é—®é¢˜ï¼Œåªèƒ½é‡‡ç”¨ ECMAScript è¿™ä¸ªæœ‰ç‚¹åˆ«æ‰­çš„åå­—ã€‚</p><p>2010 å¹´ä¹‹åï¼Œæ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒ ES æ ‡å‡†ç¬¬ 5 ç‰ˆï¼ŒES6 å‘å¸ƒäº 2015 å¹´ï¼Œå¢åŠ äº†å¾ˆå¤šé‡è¦çš„æ–°ç‰¹æ€§ã€‚æ­¤åï¼ŒECMAScript è§„èŒƒæ”¹ä¸ºæ¯å¹´å‘å¸ƒä¸€æ¬¡ï¼Œè¯­è¨€çš„ç‰ˆæœ¬ä¹Ÿç”±å¹´ä»½æ¥æ ‡è¯†ï¼Œå¦‚ ES2017ï¼ŒES20120ï¼ŒES2021 ç­‰ã€‚</p><p>åœ¨ ES5 åŠä»¥åï¼Œç¨‹åºå¯ä»¥é€‰æ‹©åˆ‡æ¢åˆ°ä¸¥æ ¼æ¨¡å¼ï¼ˆuse strictï¼‰ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œä¹‹å‰ ES5 éƒ¨åˆ†ç¼ºé™·å¾—ä»¥çº æ­£ã€‚ES6 ä¹‹åå¾ˆå¤šæƒ…å†µä¼šéšå¼è§¦å‘ä¸¥æ ¼æ¨¡å¼ï¼Œå¦‚ä½¿ç”¨ <code>class</code> å…³é”®å­—æˆ–è€…åˆ›å»º ES6 æ¨¡å—ï¼Œç±»å’Œæ¨¡å—ä¸­çš„ä»£ç éƒ½ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸¥æ ¼æ¨¡å¼ã€‚</p><h2 id="1-1-ğŸ›µ-Hello-World"><a href="#1-1-ğŸ›µ-Hello-World" class="headerlink" title="1.1 ğŸ›µ Hello World"></a>1.1 ğŸ›µ Hello World</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶<code>hello.js</code>ï¼Œå…¶ä¸­åŒ…å«ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello World&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦ç”¨ Node æ¥è¿è¡Œè¿™ä¸ª JavaScript ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node hello.<span class="property">js</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³åœ¨æµè§ˆå™¨çš„æ§åˆ¶å°æ‰“å° â€œHello Worldâ€ ï¼Œå†åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶<code>hello.html</code>ï¼ŒæŠŠä»¥ä¸‹å†…å®¹æ”¾è¿›å»ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;hello.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ <code>file://URL</code> æ¥åŠ è½½ <code>hello.html</code>ã€‚</p><h2 id="1-2-ğŸ“º-JavaScript-ä¹‹æ—…"><a href="#1-2-ğŸ“º-JavaScript-ä¹‹æ—…" class="headerlink" title="1.2 ğŸ“º JavaScript ä¹‹æ—…"></a>1.2 ğŸ“º JavaScript ä¹‹æ—…</h2><ul><li><p>å˜é‡æ˜¯ä¸€ä¸ªè¡¨ç¤ºå€¼çš„åå­—ã€‚</p></li><li><p>å˜é‡å¯ä»¥ç”¨ <code>let</code> å…³é”®å­—å£°æ˜ã€‚</p></li><li><p>å¯ä»¥ä½¿ç”¨ <code>=</code> æ¥å¯¹å˜é‡èµ‹å€¼ã€‚</p></li><li><p>js æ”¯æŒ Numberã€Stringã€Booleanã€Nullã€Undefinedã€BigIntã€Symbol ç­‰åŸºç¡€æ•°æ®ç±»å‹ã€‚</p></li><li><p>js ä¹Ÿæ”¯æŒ Objectã€Arrayã€Function ç­‰å¼•ç”¨æ•°æ®ç±»å‹ã€‚</p></li><li><p>å¯ä»¥ä½¿ç”¨ <code>.</code> å’Œ <code>[]</code> æ¥è®¿é—®å¯¹è±¡çš„å±æ€§ã€‚</p></li><li><p><code>// =&gt;</code> è¡¨ç¤ºæ³¨é‡Šå‰é¢ä»£ç äº§ç”Ÿçš„å€¼ã€‚</p></li><li><p>äº†è§£å„ç§æ“ä½œç¬¦ã€‚</p></li><li><p>&amp;&amp; è¿ç®—é‡åˆ°å‡å€¼è¿”å›å‡å€¼ï¼Œåé¢ä¸å†æ‰§è¡Œï¼Œè‹¥æ— å‡å€¼ï¼Œè¿”å›æœ€åä¸€ä¸ªå€¼ã€‚</p></li><li><p>|| è¿ç®—é‡åˆ°çœŸå€¼è¿”å›çœŸå€¼ï¼Œåé¢ä¸å†æ‰§è¡Œï¼Œè‹¥æ— çœŸå€¼ï¼Œè¿”å›æœ€åä¸€ä¸ªå€¼ã€‚</p></li><li><p>&amp;&amp; è¿ç®—ä¼˜å…ˆçº§æ¯” || å¤§ã€‚</p></li><li><p>ç®­å¤´å‡½æ•°ç”¨ &#x3D;&gt; æ¥åˆ†éš”å‚æ•°åˆ—è¡¨å’Œå‡½æ•°ä¸»ä½“ã€‚</p></li><li><p>é€šè¿‡å¯¹è±¡è°ƒç”¨çš„å‡½æ•°ï¼Œæˆ‘ä»¬ç§°ä¸ºæ–¹æ³•ã€‚</p></li><li><p>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = x</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = y</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">distance</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(<span class="variable language_">this</span>.<span class="property">x</span> * <span class="variable language_">this</span>.<span class="property">x</span> + <span class="variable language_">this</span>.<span class="property">y</span> * <span class="variable language_">this</span>.<span class="property">y</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="title function_">distance</span>()) <span class="comment">// =&gt; 1.4142135623730951</span></span><br></pre></td></tr></table></figure><p>ä¸Šä¾‹ä¸ºè®¡ç®—æŸç‚¹åˆ°åŸç‚¹çš„è·ç¦»ã€‚</p></li></ul><h2 id="1-3-ğŸˆ-äº‹ä¾‹ï¼šå­—ç¬¦é¢‘ç‡æŸ±å½¢å›¾"><a href="#1-3-ğŸˆ-äº‹ä¾‹ï¼šå­—ç¬¦é¢‘ç‡æŸ±å½¢å›¾" class="headerlink" title="1.3 ğŸˆ äº‹ä¾‹ï¼šå­—ç¬¦é¢‘ç‡æŸ±å½¢å›¾"></a>1.3 ğŸˆ äº‹ä¾‹ï¼šå­—ç¬¦é¢‘ç‡æŸ±å½¢å›¾</h2><p>å¤ªéš¾äº†å‘œå‘œ ğŸ¥¹</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ç¬¬ä¸€ç« -JavaScript-ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç¬¬ä¸€ç« -JavaScript-ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬ä¸€ç«  JavaScript ç®€ä»‹&quot;&gt;&lt;/a&gt;ç¬¬ä¸€ç«  JavaScript ç®€ä»‹&lt;/h1&gt;&lt;blockquote&gt;
</summary>
      
    
    
    
    
    <category term="çŠ€ç‰›ä¹¦" scheme="http://example.com/tags/%E7%8A%80%E7%89%9B%E4%B9%A6/"/>
    
  </entry>
  
  <entry>
    <title>åŸç”ŸJSå®ç°å¤©æ°”é¢„æŠ¥æŸ¥è¯¢ç³»ç»Ÿ</title>
    <link href="http://example.com/2022/09/14/%E5%8E%9F%E7%94%9FJS%E5%AE%9E%E7%8E%B0%E5%A4%A9%E6%B0%94%E9%A2%84%E6%8A%A5%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F/"/>
    <id>http://example.com/2022/09/14/%E5%8E%9F%E7%94%9FJS%E5%AE%9E%E7%8E%B0%E5%A4%A9%E6%B0%94%E9%A2%84%E6%8A%A5%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F/</id>
    <published>2022-09-14T12:29:34.000Z</published>
    <updated>2022-09-18T14:20:55.217Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Weather-Query-System"><a href="#Weather-Query-System" class="headerlink" title="Weather Query System"></a>Weather Query System</h1><p>è¯¥é¡¹ç›®æ˜¯æˆ‘å‚åŠ å­¦æ ¡å·¥ä½œå®¤åçš„ç¬¬ä¸€æ¬¡æ°´å¹³è€ƒæ ¸ï¼Œä¹Ÿæ˜¯æˆ‘å­¦ä¹ å‰ç«¯ä¸€ä¸ªæœˆä»¥æ¥å®Œæˆçš„ç¬¬ä¸€ä¸ªè¾ƒä¸ºå®Œæ•´çš„å°é¡¹ç›®ã€‚æ•…æœ‰è®¸å¤šç»†èŠ‚å®ç°çš„ä¸ç¬¦åˆé¢„æœŸã€‚å€Ÿè¿™ç¯‡æ–‡ç« å¤ç›˜ä¸€ä¸‹æˆ‘çš„é¡¹ç›®å®Œæˆè¿‡ç¨‹ï¼Œæ¥ä¸ºä»¥åæ›´å¥½åœ°å®Œæˆé¡¹ç›®æ‰“å®šåŸºç¡€ã€‚</p><h2 id="ğŸ-é¡¹ç›®æ•´ä½“ç»“æ„æƒ³æ³•"><a href="#ğŸ-é¡¹ç›®æ•´ä½“ç»“æ„æƒ³æ³•" class="headerlink" title="ğŸ é¡¹ç›®æ•´ä½“ç»“æ„æƒ³æ³•"></a>ğŸ é¡¹ç›®æ•´ä½“ç»“æ„æƒ³æ³•</h2><p>ä½œä¸ºä¸€ä¸ªå¤©æ°”é¢„æŠ¥æŸ¥è¯¢ç³»ç»Ÿï¼Œé¦–å…ˆæˆ‘å°†é¡¹ç›®åˆ†ä¸ºæŸ¥è¯¢ã€åé¦ˆä¸¤ä¸ªéƒ¨åˆ†ã€‚</p><p><strong>æŸ¥è¯¢</strong>ï¼šéœ€è¦è€ƒè™‘ <em>æŸ¥è¯¢æ–¹å¼</em> ä»¥åŠ <em>æŸ¥è¯¢èŒƒå›´</em> ä¸¤ä¸ªæ–¹é¢ã€‚æ–¹å¼å¯ä»¥æœ‰å¤šç§ï¼Œå¦‚è¾“å…¥æ–‡å­—ã€è¿›å…¥åŸå¸‚åˆ—è¡¨é€‰æ‹©ã€åœ¨åœ°å›¾ä¸Šé€‰æ‹©åŒºåŸŸç­‰ã€‚èŒƒå›´åˆ†ä¸ºå›½å†…ä¸å›½å¤–ã€çœä¸åŒºç­‰æ–¹é¢ã€‚ä½†åœ¨å®é™…å®ç°è¿‡ç¨‹ä¸­ï¼Œç”±äºæŠ€æœ¯ç†Ÿç»ƒåº¦å’ŒæŒæ¡åº¦ä¸é«˜ã€æ¥å£æœ‰é™ç­‰ï¼Œä»…å®ç°äº†æ–‡å­—æŸ¥è¯¢+å›½å†…çš„çœä¸åŒºèŒƒå›´æŸ¥è¯¢ã€‚</p><p><strong>åé¦ˆ</strong>ï¼šéœ€è¦è€ƒè™‘è¿”å›ç»™ç”¨æˆ·ä»€ä¹ˆå†…å®¹ï¼Œåœ¨æˆ‘ç›®å‰èƒ½æ‰¾åˆ°çš„æ¥å£ä¸­ï¼Œæ€»ç»“äº†ä»¥ä¸‹ 4 ä¸ªæ–¹é¢çš„åé¦ˆï¼š</p><ul><li>å®å†µå¤©æ°”ï¼Œå³å½“åœ°å½“å¤©å½“æ—¶çš„å³æ—¶å¤©æ°”ã€‚</li><li>ç©ºæ°”è´¨é‡æ°´å¹³ã€‚</li><li>æœªæ¥ä¸ƒå¤©é¢„æµ‹å¤©æ°”ã€‚</li><li>ç”Ÿæ´»æŒ‡æ•°ï¼Œå¦‚è¿åŠ¨æŒ‡æ•°ã€é’“é±¼æŒ‡æ•°ç­‰ã€‚</li></ul><h2 id="â˜ï¸-HTML-é¡µé¢çš„ç¼–å†™"><a href="#â˜ï¸-HTML-é¡µé¢çš„ç¼–å†™" class="headerlink" title="â˜ï¸ HTML é¡µé¢çš„ç¼–å†™"></a>â˜ï¸ HTML é¡µé¢çš„ç¼–å†™</h2><p>é¦–å…ˆæˆ‘å°† HTML ç•Œé¢åˆ’åˆ†ä¸º<code>&lt;header&gt;</code>ã€<code>&lt;search&gt;</code>ã€<code>&lt;information&gt;</code>ã€<code>&lt;footer&gt;</code>ã€<code>&lt;toasts&gt;</code>äº”å¤§æ¿å—ã€‚</p><p><code>&lt;header&gt;</code>ç”¨æ¥ç¼–å†™æ‚¬æµ®å¯¼èˆªæ ï¼ŒåŒ…å«<code>&lt;title&gt;</code>å’Œ<code>&lt;top&gt;</code>ä¸¤ä¸ªå°æ¿å—ï¼Œåˆ†åˆ«æ˜¯ Weather Query System çš„æ–‡å­—å›¾æ ‡å’Œè¿”å›é¡¶éƒ¨çš„æŒ‰é’®ã€‚</p><p><code>&lt;search&gt;</code>æ˜¯æœç´¢æ¨¡å—ï¼ŒåŒ…æ‹¬<code>&lt;search-title&gt;</code>å’Œ<code>search-box</code>ä¸¤ä¸ªå°æ¿å—ï¼Œåˆ†åˆ«ä¸º Weather Query System çš„æ ‡é¢˜ã€æœç´¢æ¡†ã€‚æœç´¢æ¡†åˆåŒ…å«<code>&lt;input&gt;</code>å’Œ<code>&lt;button&gt;</code>ã€‚</p><p><code>&lt;information&gt;</code>æ˜¯åé¦ˆç»™ç”¨æˆ·ä¿¡æ¯çš„ç•Œé¢ï¼ŒåŒ…å«ä¸Šé¢â€˜åé¦ˆâ€™éƒ¨åˆ†æåˆ°çš„å„ä¸ªåŠŸèƒ½æ¿å—ã€‚</p><p><code>&lt;footer&gt;</code>ä¸ºé¡µåº•éƒ¨åˆ†ï¼Œåé¦ˆç»™ç”¨æˆ·æˆ‘çš„æ•°æ®æ¥æºç½‘ç«™ã€‚</p><h2 id="ğŸ§­-CSS-ä»¥åŠåŠ¨ç”»çš„ç¼–å†™"><a href="#ğŸ§­-CSS-ä»¥åŠåŠ¨ç”»çš„ç¼–å†™" class="headerlink" title="ğŸ§­ CSS ä»¥åŠåŠ¨ç”»çš„ç¼–å†™"></a>ğŸ§­ CSS ä»¥åŠåŠ¨ç”»çš„ç¼–å†™</h2><h3 id="header"><a href="#header" class="headerlink" title="header"></a>header</h3><p><code>&lt;header&gt;</code>æ¿å— <em>ä¸€ç›´å›ºå®š</em> åœ¨é¡µé¢ <em>æœ€ä¸Šé¢</em> ï¼Œæ•…éœ€è¦æˆ‘ä»¬ç»™å®ƒè®¾ç½®<code>position</code>å±æ€§ä¸º<code>fixed</code>ã€<code>top</code>å±æ€§å€¼ä¸º 0ã€‚å…¶æ¬¡ä¸ºäº†é˜²æ­¢è¢«ä¹‹åç¼–å†™çš„æ¿å—è¦†ç›–ï¼Œéœ€è¦ç»™å®ƒçš„<code>z-index</code>å±æ€§è®¾ç½®è¶³å¤Ÿå¤§çš„é«˜åº¦ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*=========å¯¼èˆªæ éƒ¨åˆ†ç¼–å†™==========*/</span></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="search-title"><a href="#search-title" class="headerlink" title="search-title"></a>search-title</h3><p>å•çº¯çš„é™æ€ title æœ‰ç‚¹æ— èŠï¼Œå› æ­¤æˆ‘æƒ³æ·»åŠ  <em>è‡ªåŠ¨æ‰“å­—æ•ˆæœ</em> æ¥åœ¨ç”¨æˆ·è¿›å…¥ç•Œé¢åï¼Œé€šè¿‡åŠ¨ç”»å±•ç°å‡ºæ¥ã€‚</p><p>é¦–å…ˆåˆ©ç”¨ js è·å–<code>&lt;search-title&gt;</code>çš„èŠ‚ç‚¹(èŠ‚ç‚¹å†…å®¹ä¸ºç©º)ï¼Œå¹¶åœ¨ js ä¸­å£°æ˜èµ‹å€¼æ ‡é¢˜çš„å­—ç¬¦ä¸²å˜é‡ï¼Œå£°æ˜èµ‹å€¼å­—ç¬¦ä½ç½®å˜é‡<code>idx</code>ä¸º 1ï¼Œé€šè¿‡<code>slice</code>æ–¹æ³•å°†å®šä¹‰çš„æ ‡é¢˜å­—ç¬¦ä¸²é€å­—æ·»åŠ åˆ°è·å–çš„èŠ‚ç‚¹ä¹‹ä¸­ï¼Œå¹¶å†æ·»åŠ ä¸€ä¸ª<code>_</code>å­—ç¬¦åœ¨åé¢ï¼ŒåŒæ—¶è®¾ç½® idx++ã€‚è¿™æ ·å½“ä¸‹æ¬¡å‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¼šè¦†ç›–æ‰å‰ä¸€æ¬¡æ‰“å°çš„<code>_</code>ï¼Œä»è€Œå®ç°è‡ªåŠ¨æ‰“å°æ•ˆæœã€‚å…¶æ¬¡è®¾ç½®æ‰“å°çš„é€Ÿåº¦<code>speed</code>ï¼Œé€šè¿‡<code>setTimeOut</code>å‡½æ•°æ¥å»¶æ—¶æ‰“å°ã€‚æœ€åè®¾ç½®å¦‚æœ<code>idx</code>çš„é•¿åº¦å¤§äºæ ‡é¢˜å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™å°†å€’æ•°ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²åˆ é™¤ï¼ˆå³<code>_</code>ï¼‰ï¼Œé€€å‡ºæ‰“å°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//===========================æ‰“å°title===========================</span></span><br><span class="line"><span class="keyword">const</span> textEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.tips&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> text = <span class="string">&#x27;Weather Forecast System&#x27;</span></span><br><span class="line"><span class="keyword">let</span> idx = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> speed = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">;(<span class="keyword">function</span> <span class="title function_">writeText</span>(<span class="params"></span>) &#123;</span><br><span class="line">  textEl.<span class="property">innerText</span> = text.<span class="title function_">slice</span>(<span class="number">0</span>, idx++) + <span class="string">&#x27;_&#x27;</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(writeText, speed)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (idx &gt; text.<span class="property">length</span>) &#123;</span><br><span class="line">    textEl.<span class="property">innerText</span> = textEl.<span class="property">innerText</span>.<span class="title function_">slice</span>(<span class="number">0</span>, -<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><h3 id="search-box"><a href="#search-box" class="headerlink" title="search-box"></a>search-box</h3><p>ä¸€ä¸ªç®€å•çš„<code>search-box</code>çš„å®ç°ä»…éœ€è¦<code>&lt;input&gt;</code>å’Œ<code>&lt;button&gt;</code>ä¸¤ä¸ªæ ‡ç­¾å³å¯ï¼Œä½†è¿™ç§è¾“å…¥æ–¹å¼è¿‡äºåƒµç¡¬ï¼Œå› æ­¤æƒ³è¦åœ¨è¯¥å¤„æ·»åŠ ä¸€äº› CSS åŠ¨ç”»æ¥å¢åŠ å¹³æ»‘åº¦ã€‚</p><p>å®ç°æ•ˆæœä¸ºæç¤ºæ–‡å­—åœ¨<code>input</code>æ¡†å†…ï¼Œå½“ç”¨æˆ·èšç„¦<code>input</code>æ¡†æ—¶ï¼Œæç¤ºæ–‡å­—å¹³æ»‘ä¸Šç§»å¹¶æ”¹å˜é¢œè‰²ï¼ŒåŒæ—¶<code>input</code>æ¡†ä¸‹è¾¹æ¡†ä»ä¸­é—´å‘ä¸¤è¾¹å¹³æ»‘å˜è‰²ã€‚</p><p><strong>æç¤ºæ–‡å­—å¹³æ»‘ä¸Šç§»æ”¹å˜é¢œè‰²</strong>:<br>é¦–å…ˆæˆ‘ä»¬åœ¨<code>&lt;input&gt;</code>æ ‡ç­¾åé¢åˆ›å»º<code>&lt;label&gt;</code>æ ‡ç­¾ï¼Œæ¥å¡«å†™æˆ‘ä»¬çš„æç¤ºä¿¡æ¯ï¼Œè®¾ç½®<code>position</code>ä¸º<code>absolute</code>ã€‚ç»™<code>label</code>æ·»åŠ <code>transition</code>å±æ€§ï¼Œå…¶å€¼ä¸º 0.3sï¼Œè¡¨ç¤ºæç¤ºä¿¡æ¯å‘ä¸Šç§»åŠ¨çš„è¿‡ç¨‹è€—è´¹æ—¶é—´ä¸º 0.3sã€‚å…¶æ¬¡é€šè¿‡<code>input:focus ~ label</code>æ ‡ç­¾æ¥è®¾ç½® input èšç„¦æ—¶çš„æƒ…å½¢ï¼Œå¹¶æ·»åŠ <code>transform: translateY(-2.5vw)</code>å±æ€§åŠå…¶å€¼ï¼Œè¡¨ç¤ºèšç„¦æ—¶æç¤ºæ–‡å­—ä¸Šç§» 2.5 ä¸ª vw å•ä½ã€‚</p><p><strong>input æ¡†ä¸‹è¾¹æ¡†å¹³æ»‘å˜è‰²</strong>:<br>è®¾ç½®<code>border-button</code>çš„<code>color</code>ä¸ºç°è‰²ã€‚æ–°å»ºæ ‡ç­¾<code>&lt;under-line&gt;</code>ï¼Œè®¾ç½®<code>position</code>ä¸º<code>absolute</code>ï¼Œ<code>color</code>ä¸ºè“è‰²ï¼Œ<code>transition</code>ä¸º 0.3sã€‚æœ€é‡è¦çš„æ˜¯è®¾ç½®<code>transform</code>ä¸º scaleX(0)ï¼Œè¡¨ç¤ºæ¨ªçº¿ä»åŸç‚¹å¤„å¼€å§‹å‘å¤–å»¶ä¼¸çš„æ¯”ä¾‹ä¸º 0ã€‚ä¹‹åè®¾ç½®<code>input:focus ~ .underline</code>çš„ transform ä¸º scaleX(1)ï¼Œè¡¨ç¤ºæ¨ªçº¿ä»åŸç‚¹å¤„å¼€å§‹å‘å¤–å»¶ä¼¸çš„æ¯”ä¾‹ä¸º 1ã€‚</p><h3 id="information"><a href="#information" class="headerlink" title="information"></a>information</h3><p>å¯¹äº information éƒ¨åˆ†çš„ css æ ·å¼ï¼Œå…¶åŸºç¡€å°±æ˜¯è¿ç”¨ flex å¸ƒå±€å®ç°ï¼Œä¸å¤šå™è¿°ã€‚é‡ç‚¹åœ¨äºç›¸å¯¹å•ä½çš„ä½¿ç”¨ï¼Œå°½é‡ä½¿ç”¨<code>vw</code>å•ä½ï¼Œæ—¶é¡µé¢åªä¼šéšçª—å£å®½åº¦çš„å¤§å°è€Œæ”¹å˜ã€‚</p><h3 id="ç›’å­å¹³æ»‘å‡ºç°"><a href="#ç›’å­å¹³æ»‘å‡ºç°" class="headerlink" title="ç›’å­å¹³æ»‘å‡ºç°"></a>ç›’å­å¹³æ»‘å‡ºç°</h3><p>é¦–å…ˆç»™<code>information</code>ä¸­å±•ç¤ºåŠŸèƒ½çš„æ‰€æœ‰æ¨¡å—æ·»åŠ ä¸Šå…±åŒçš„<code>class=â€œboxâ€</code>ã€‚è®¾ç½®å…¶<code>transition</code>å€¼ä¸º<code>0.5s</code>ï¼Œ<code>transform</code>å€¼ä¸º<code>translateX(2vw)</code>ã€‚</p><p>åœ¨ js ä¸­è·å–æ‰€æœ‰ box èŠ‚ç‚¹ï¼Œå¹¶æ·»åŠ çª—å£æ»šåŠ¨æ—¶è§¦å‘<code>checkBoxes</code>ï¼Œé€šè¿‡<code>window.innerHeight</code>è·å–æµè§ˆå™¨çª—å£é«˜åº¦èµ‹å€¼ç»™<code>triggerBottom</code>ï¼Œåœ¨<code>boxes.forEach</code>ä¸­ï¼Œé€šè¿‡<code>box.getBoundingClientRect().top</code>è·å– box é¡¶éƒ¨ç›¸å¯¹äºè§†å£(Viewport)çš„ä½ç½®ï¼Œèµ‹å€¼ç»™<code>boxTop</code>ã€‚å¦‚æœ boxTop å°äº triggerBottom çš„æ—¶å€™ï¼Œå³ box å‡ºç°åœ¨çª—å£å†…æ—¶ï¼Œæ·»åŠ ä¸Š<code>class=â€œshowâ€</code>ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6bf16ec33e9d4d5cb3b4044e4f2eb63d~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*=================css====================*/</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">200px</span>);</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">0.5s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span><span class="selector-class">.show</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//======================show box=========================</span></span><br><span class="line"><span class="keyword">const</span> boxes = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.box&#x27;</span>)</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, checkBoxes)</span><br><span class="line"><span class="title function_">checkBoxes</span>()</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkBoxes</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> triggerBottom = (<span class="variable language_">window</span>.<span class="property">innerHeight</span> / <span class="number">20</span>) * <span class="number">19</span></span><br><span class="line"></span><br><span class="line">  boxes.<span class="title function_">forEach</span>(<span class="function">(<span class="params">box</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> boxTop = box.<span class="title function_">getBoundingClientRect</span>().<span class="property">top</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (boxTop &lt; triggerBottom) &#123;</span><br><span class="line">      box.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;show&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      box.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;show&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ»‘è½®æ“ä½œ"><a href="#æ»‘è½®æ“ä½œ" class="headerlink" title="æ»‘è½®æ“ä½œ"></a>æ»‘è½®æ“ä½œ</h3><p>æœ¬æ¬¡å°é¡¹ç›®æ¶‰åŠä¸¤å¤„æ»‘è½®è½®åŠ¨é—®é¢˜ï¼Œåˆ†åˆ«æ˜¯æœç´¢å®Œæˆåè‡ªåŠ¨è·³è½¬åˆ°åˆ° information æ¿å—çš„ä¸Šé¢ã€ä»¥åŠç‚¹å‡»å¯¼èˆªæ çš„ top æŒ‰é’®è¿”å›åˆ°é¡¶éƒ¨ã€‚</p><p><strong>æœç´¢å®Œæˆåè‡ªåŠ¨è·³è½¬</strong>:<br>é¦–å…ˆè·å–ç›®æ ‡å…ƒç´ ç›¸å¯¹ Viewport çš„ top åç§»å€¼ã€çª—å£æœ¬èº«çš„åç§»å€¼ä¹‹å’Œï¼Œå¹¶è®¾ç½®æ¯æ¬¡ç§»åŠ¨çš„åç§»å€¼ã€‚é€šè¿‡ window.requestAnimationFrame()ä¼ å…¥å›è°ƒå‡½æ•°ï¼Œæ¥é€å¸§å®ç°è·³è½¬æ•ˆæœã€‚å¦‚ä¸‹é¢ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//==========================æœç´¢å®Œæˆåè‡ªåŠ¨è·³è½¬===========================</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">animateScroll</span>(<span class="params">element, speed</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> rect = element.<span class="title function_">getBoundingClientRect</span>()</span><br><span class="line">  <span class="comment">//è·å–å…ƒç´ ç›¸å¯¹çª—å£çš„topå€¼ï¼ŒåŠ ä¸Šçª—å£æœ¬èº«çš„åç§»</span></span><br><span class="line">  <span class="keyword">let</span> top = <span class="variable language_">window</span>.<span class="property">pageYOffset</span> + rect.<span class="property">top</span></span><br><span class="line">  <span class="keyword">let</span> currentTop = <span class="number">0</span></span><br><span class="line">  <span class="keyword">let</span> requestId</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">step</span>(<span class="params"></span>) &#123;</span><br><span class="line">    currentTop += speed</span><br><span class="line">    <span class="keyword">if</span> (currentTop &lt;= top) &#123;</span><br><span class="line">      <span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(<span class="number">0</span>, currentTop)</span><br><span class="line">      requestId = <span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(step)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(step)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">animateScroll</span>(inf, <span class="number">80</span>)</span><br></pre></td></tr></table></figure><p>æ¯æ¬¡æ‰§è¡Œå‡½æ•°çª—å£ä¼šä¸‹ç§» 80 çš„åç§»å€¼ï¼Œç›´åˆ°åç§»ç­”é“ç›®æ ‡å…ƒç´ ç›¸å¯¹ Viewport çš„ top åç§»å€¼ã€çª—å£æœ¬èº«çš„åç§»å€¼ä¹‹å’Œã€‚</p><p><strong>top æŒ‰é’®è¿”å›åˆ°é¡¶éƒ¨</strong>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//===========================å›åˆ°é¡¶éƒ¨===========================</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toTop</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">loop</span>()</span><br><span class="line">  <span class="keyword">var</span> top,</span><br><span class="line">    stop = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">loop</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (top &lt; <span class="number">1</span> || stop) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!stop) <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> = <span class="number">0</span></span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    top = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> = top * <span class="number">0.9</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">loop</span>()</span><br><span class="line">    &#125;, <span class="number">15</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">onscroll</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (top &lt; <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>) &#123;</span><br><span class="line">      stop = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ğŸ§¯-JS-çš„ç¼–å†™"><a href="#ğŸ§¯-JS-çš„ç¼–å†™" class="headerlink" title="ğŸ§¯ JS çš„ç¼–å†™"></a>ğŸ§¯ JS çš„ç¼–å†™</h2><h3 id="è·å–æ•°æ®"><a href="#è·å–æ•°æ®" class="headerlink" title="è·å–æ•°æ®"></a>è·å–æ•°æ®</h3><p>å°†æŸ¥è¯¢æŒ‰é’®ç»‘å®š<code>click</code>äº‹ä»¶ï¼Œå¹¶ç»‘å®šå‡½æ•°<code>search()</code>ï¼Œå°† search()è®¾ç½®ä¸º<code>async</code>å‡½æ•°ï¼Œåœ¨å†…éƒ¨è¿ç”¨<code>await</code>è°ƒç”¨<code>fetch()</code>æ¥è·å¾—æ•°æ®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">search</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&#x27;æ¥å£&#x27;</span>),</span><br><span class="line">    data = <span class="keyword">await</span> res.<span class="title function_">json</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“æ•°æ®ä»¥ç»„çš„å½¢å¼å‡ºç°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ document.querySelectorAll()çš„æ–¹æ³•è·å–æŸä¸ªèŠ‚ç‚¹ä¸‹çš„å…¨éƒ¨å­èŠ‚ç‚¹ï¼Œæœ€åè¿ç”¨å¾ªç¯çš„æ–¹å¼å°†æ•°æ®å†™å…¥èŠ‚ç‚¹ï¼Œå¦‚ä¸‹é¢çš„ä»£ç ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> weekInf = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.w-box &gt; div &gt; div&#x27;</span>),</span><br><span class="line">  liveLevel = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.live &gt; div &gt; div&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¼ å…¥weekå¤©æ°”æ•°æ®</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">weekUp</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>, i = <span class="number">0</span>; j &lt;= <span class="number">6</span>, i &lt;= <span class="number">24</span>; j++) &#123;</span><br><span class="line">    <span class="variable language_">this</span>[i++].<span class="property">innerHTML</span> = data2.<span class="property">data</span>[j].<span class="property">date</span></span><br><span class="line">    <span class="variable language_">this</span>[i++].<span class="property">innerHTML</span> = data2.<span class="property">data</span>[j].<span class="property">wea</span></span><br><span class="line">    <span class="variable language_">this</span>[i++].<span class="property">innerHTML</span> = data2.<span class="property">data</span>[j].<span class="property">tem_day</span> + <span class="string">&#x27;Â°&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>[i++].<span class="property">innerHTML</span> = data2.<span class="property">data</span>[j].<span class="property">tem_night</span> + <span class="string">&#x27;Â°&#x27;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">weekUp.<span class="title function_">call</span>(weekInf)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¼ å…¥liveæ•°æ®</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">liveUp</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt;= <span class="number">29</span>, j &lt;= <span class="number">10</span>; j++) &#123;</span><br><span class="line">    <span class="variable language_">this</span>[i++].<span class="property">innerHTML</span> = data3.<span class="property">daily</span>[j].<span class="property">name</span> + <span class="string">&#x27;:&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>[i++].<span class="property">innerHTML</span> = data3.<span class="property">daily</span>[j].<span class="property">level</span></span><br><span class="line">    <span class="variable language_">this</span>[i++].<span class="property">innerHTML</span> = <span class="string">&#x27;Tipï¼š&#x27;</span> + data3.<span class="property">daily</span>[j].<span class="property">text</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">liveUp.<span class="title function_">call</span>(liveLevel)</span><br></pre></td></tr></table></figure><h3 id="åˆ¤æ–­æ˜¯å¦è¾“å…¥ä¸ºä¸­æ–‡"><a href="#åˆ¤æ–­æ˜¯å¦è¾“å…¥ä¸ºä¸­æ–‡" class="headerlink" title="åˆ¤æ–­æ˜¯å¦è¾“å…¥ä¸ºä¸­æ–‡"></a>åˆ¤æ–­æ˜¯å¦è¾“å…¥ä¸ºä¸­æ–‡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–inputå†…å®¹</span></span><br><span class="line">cityName = inputCity.<span class="property">value</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ­£åˆ™åˆ¤æ–­æ˜¯å¦è¾“å…¥ä¸ºä¸­æ–‡</span></span><br><span class="line"><span class="keyword">let</span> han = <span class="regexp">/[\u4e00-\u9fa5]/</span>;</span><br><span class="line"><span class="keyword">if</span> (!han.<span class="title function_">test</span>(cityName)) &#123;</span><br><span class="line">    <span class="comment">//é”™è¯¯æç¤º</span></span><br><span class="line">    <span class="title function_">createNotification2</span>();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;...&#125;</span><br></pre></td></tr></table></figure><h3 id="åå¸æç¤º"><a href="#åå¸æç¤º" class="headerlink" title="åå¸æç¤º"></a>åå¸æç¤º</h3><p>å½“ç”¨æˆ·è¾“å…¥å®Œæˆåï¼Œä¼šåœ¨å³ä¸‹è§’ä¼šåƒåå¸ä¸€æ ·å¼¹å‡ºè¾“å…¥æˆåŠŸ or è¾“å…¥é”™è¯¯çš„åé¦ˆã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*css*/</span></span><br><span class="line"><span class="selector-id">#toasts</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-end;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">998</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.toast</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: flex-end;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row-reverse;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">220px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.toast</span><span class="selector-class">.success</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">123</span>, <span class="number">49</span>, <span class="number">0.8</span>);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.toast</span><span class="selector-class">.error</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">236</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">0.8</span>);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.toast</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//js</span></span><br><span class="line"><span class="comment">//===========================åˆ›å»ºåé¦ˆå¼¹çª—===========================</span></span><br><span class="line"><span class="keyword">const</span> toasts = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;toasts&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> messages = [<span class="string">&#x27;æŸ¥è¯¢æˆåŠŸ&#x27;</span>, <span class="string">&#x27;è¾“å…¥æœ‰è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> types = [<span class="string">&#x27;success&#x27;</span>, <span class="string">&#x27;error&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å…¥æ­£ç¡®</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createNotification1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> notice = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">  <span class="keyword">const</span> noticePic = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;img&#x27;</span>)</span><br><span class="line">  noticePic.<span class="property">src</span> = <span class="string">&#x27;./img/æ­£ç¡®.png&#x27;</span></span><br><span class="line">  noticePic.<span class="property">width</span> = <span class="string">&#x27;45&#x27;</span></span><br><span class="line">  notice.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;toast&#x27;</span>)</span><br><span class="line">  notice.<span class="property">classList</span>.<span class="title function_">add</span>(types[<span class="number">0</span>])</span><br><span class="line">  notice.<span class="property">innerText</span> = messages[<span class="number">0</span>]</span><br><span class="line">  notice.<span class="title function_">appendChild</span>(noticePic)</span><br><span class="line">  toasts.<span class="title function_">appendChild</span>(notice)</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    notice.<span class="title function_">remove</span>()</span><br><span class="line">  &#125;, <span class="number">3000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å…¥é”™è¯¯</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createNotification2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> notice = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">  <span class="keyword">const</span> noticePic = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;img&#x27;</span>)</span><br><span class="line">  noticePic.<span class="property">src</span> = <span class="string">&#x27;./img/æ„Ÿå¹å·.png&#x27;</span></span><br><span class="line">  noticePic.<span class="property">width</span> = <span class="string">&#x27;40&#x27;</span></span><br><span class="line">  notice.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;toast&#x27;</span>)</span><br><span class="line">  notice.<span class="property">classList</span>.<span class="title function_">add</span>(types[<span class="number">1</span>])</span><br><span class="line">  notice.<span class="property">innerText</span> = messages[<span class="number">1</span>]</span><br><span class="line">  notice.<span class="title function_">appendChild</span>(noticePic)</span><br><span class="line">  toasts.<span class="title function_">appendChild</span>(notice)</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    notice.<span class="title function_">remove</span>()</span><br><span class="line">  &#125;, <span class="number">13000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç™¾åº¦åœ°å›¾-api-çš„è°ƒç”¨"><a href="#ç™¾åº¦åœ°å›¾-api-çš„è°ƒç”¨" class="headerlink" title="ç™¾åº¦åœ°å›¾ api çš„è°ƒç”¨"></a>ç™¾åº¦åœ°å›¾ api çš„è°ƒç”¨</h3><p>è·Ÿç€å®˜ç½‘çš„è¯´æ˜æ–‡æ¡£æ“ä½œå³å¯ã€‚</p><h3 id="æŒ‰é’®èŠ‚æµ"><a href="#æŒ‰é’®èŠ‚æµ" class="headerlink" title="æŒ‰é’®èŠ‚æµ"></a>æŒ‰é’®èŠ‚æµ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¾ç½®æŒ‰é’®èŠ‚æµ</span></span><br><span class="line"><span class="keyword">const</span> throttle = <span class="keyword">function</span> (<span class="params">fn, interval</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> _self = fn,</span><br><span class="line">    timer,</span><br><span class="line">    firstTime = <span class="literal">true</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> args = <span class="variable language_">arguments</span></span><br><span class="line">    _me = <span class="variable language_">this</span></span><br><span class="line">    <span class="keyword">if</span> (firstTime) &#123;</span><br><span class="line">      _self.<span class="title function_">apply</span>(_me, args)</span><br><span class="line">      <span class="keyword">return</span> (firstTime = <span class="literal">false</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">      timer = <span class="literal">null</span></span><br><span class="line">      _self.<span class="title function_">apply</span>(_me, args)</span><br><span class="line">    &#125;, interval || <span class="number">1000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŒ‰é’®è§¦å‘æœç´¢ã€å›è½¦é”®ç»‘å®šæŒ‰é’®"><a href="#æŒ‰é’®è§¦å‘æœç´¢ã€å›è½¦é”®ç»‘å®šæŒ‰é’®" class="headerlink" title="æŒ‰é’®è§¦å‘æœç´¢ã€å›è½¦é”®ç»‘å®šæŒ‰é’®"></a>æŒ‰é’®è§¦å‘æœç´¢ã€å›è½¦é”®ç»‘å®šæŒ‰é’®</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŒ‰é’®è§¦å‘æœç´¢</span></span><br><span class="line">btnSearch.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="title function_">throttle</span>(search, <span class="number">1000</span>))</span><br><span class="line"><span class="comment">//å›è½¦è§¦å‘æœç´¢</span></span><br><span class="line">inputCity.<span class="property">onkeypress</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">which</span> === <span class="number">13</span>) &#123;</span><br><span class="line">    btnSearch.<span class="title function_">click</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Weather-Query-System&quot;&gt;&lt;a href=&quot;#Weather-Query-System&quot; class=&quot;headerlink&quot; title=&quot;Weather Query System&quot;&gt;&lt;/a&gt;Weather Query System&lt;/h1&gt;&lt;</summary>
      
    
    
    
    
    <category term="é¡¹ç›®å¤ç›˜" scheme="http://example.com/tags/%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯æ¨¡å—åŒ–</title>
    <link href="http://example.com/2022/09/14/%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96/"/>
    <id>http://example.com/2022/09/14/%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96/</id>
    <published>2022-09-14T11:22:46.000Z</published>
    <updated>2022-09-20T09:08:00.010Z</updated>
    
    <content type="html"><![CDATA[<h2 id="â“-ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–"><a href="#â“-ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–" class="headerlink" title="â“ ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–"></a>â“ ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–</h2><p>å°†å¤æ‚çš„ç¨‹åºæŒ‰ç…§ä¸€å®šçš„è§„èŒƒå°è£…æˆå‡ ä¸ªå—ï¼Œå¹¶ç»„åˆåœ¨ä¸€èµ·ï¼Œæ¨¡å—ä¸­çš„<strong>æ•°æ®ä¸å®ç°æ˜¯ç§æœ‰çš„</strong>ï¼Œåªå‘å¤–éƒ¨<strong>æš´éœ²ä¸€äº›æ¥å£</strong>ä¸å…¶ä»–æ¨¡å—é€šä¿¡ã€‚</p><h2 id="ğŸš€-æ¨¡å—åŒ–çš„å¥½å¤„"><a href="#ğŸš€-æ¨¡å—åŒ–çš„å¥½å¤„" class="headerlink" title="ğŸš€ æ¨¡å—åŒ–çš„å¥½å¤„"></a>ğŸš€ æ¨¡å—åŒ–çš„å¥½å¤„</h2><ul><li>é¿å…å‘½åå†²çªã€æ±¡æŸ“å…¨å±€</li><li>å¯ä»¥æ›´å¥½çš„åˆ†ç¦»ï¼ŒæŒ‰éœ€åŠ è½½</li><li>æ›´é«˜çš„å¤ç”¨æ€§ã€å¯ç§»æ¤æ€§</li></ul><h2 id="ğŸ‘-æ¨¡å—åŒ–çš„æ–¹æ³•"><a href="#ğŸ‘-æ¨¡å—åŒ–çš„æ–¹æ³•" class="headerlink" title="ğŸ‘ æ¨¡å—åŒ–çš„æ–¹æ³•"></a>ğŸ‘ æ¨¡å—åŒ–çš„æ–¹æ³•</h2><h3 id="æ—©æœŸè§£å†³æ–¹æ¡ˆ"><a href="#æ—©æœŸè§£å†³æ–¹æ¡ˆ" class="headerlink" title="æ—©æœŸè§£å†³æ–¹æ¡ˆ"></a>æ—©æœŸè§£å†³æ–¹æ¡ˆ</h3><ol><li><p><strong>å…¨å±€ <code>function</code> æ¨¡å¼</strong></p><ul><li>ç¼–ç : å°†ä¸åŒçš„åŠŸèƒ½å°è£…æˆä¸åŒçš„å…¨å±€å‡½æ•°ã€‚</li><li>é—®é¢˜: æ±¡æŸ“å…¨å±€å‘½åç©ºé—´, å®¹æ˜“å¼•èµ·å‘½åå†²çªæˆ–æ•°æ®ä¸å®‰å…¨ï¼Œè€Œä¸”æ¨¡å—æˆå‘˜ä¹‹é—´çœ‹ä¸å‡ºç›´æ¥å…³ç³»ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong><code>namespace</code> æ¨¡å¼</strong></p><ul><li>ç¼–ç : ç®€å•å¯¹è±¡å°è£…ã€‚</li><li>é—®é¢˜: æ•°æ®ä¸å®‰å…¨(å¤–éƒ¨å¯ä»¥ç›´æ¥ä¿®æ”¹æ¨¡å—å†…éƒ¨çš„æ•°æ®)ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myModule = &#123;</span><br><span class="line">  <span class="attr">data</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>,</span><br><span class="line">  <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`foo() <span class="subst">$&#123;<span class="variable language_">this</span>.data&#125;</span>`</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">myModule.<span class="property">data</span> = <span class="string">&#x27;other data&#x27;</span> <span class="comment">//èƒ½ç›´æ¥ä¿®æ”¹æ¨¡å—å†…éƒ¨çš„æ•°æ®</span></span><br><span class="line">myModule.<span class="title function_">foo</span>() <span class="comment">// foo() other data</span></span><br></pre></td></tr></table></figure></li><li><p><strong>åŸºäºå¯¹è±¡ç”¨å•ä¾‹æ¨¡å¼æ€æƒ³è§£å†³</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myModule = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> someThing = <span class="string">&#x27;123&#x27;</span></span><br><span class="line">  <span class="keyword">var</span> otherThing = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">doSomeThing</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(someThing)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; doSomeThing &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">myModule.<span class="title function_">doSomeThing</span>()</span><br></pre></td></tr></table></figure></li><li><p><strong>åŒ¿åå‡½æ•°è‡ªè°ƒç”¨é€šè¿‡é—­åŒ…è§£å†³(IIFE)</strong></p><ul><li>ä½œç”¨: æ•°æ®æ˜¯ç§æœ‰çš„, å¤–éƒ¨åªèƒ½é€šè¿‡æš´éœ²çš„æ–¹æ³•æ“ä½œ</li><li>ç¼–ç : å°†æ•°æ®å’Œè¡Œä¸ºå°è£…åˆ°ä¸€ä¸ªå‡½æ•°å†…éƒ¨, é€šè¿‡ç»™ window æ·»åŠ å±æ€§æ¥å‘å¤–æš´éœ²æ¥å£</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">;(<span class="keyword">function</span> (<span class="params">win</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">aFn</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">bFn</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">  win.<span class="property">myMethod</span> = &#123; aFn, bFn &#125;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>)</span><br></pre></td></tr></table></figure><ul><li>é—®é¢˜: å¦‚æœå½“å‰è¿™ä¸ªæ¨¡å—ä¾èµ–å¦ä¸€ä¸ªæ¨¡å—æ€ä¹ˆåŠ?</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ä¾èµ–</span></span><br><span class="line">;(<span class="keyword">function</span> (<span class="params"><span class="variable language_">window</span>, $</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> data = <span class="string">&#x27;www.baidu.com&#x27;</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`foo() <span class="subst">$&#123;data&#125;</span>`</span>)</span><br><span class="line">    $(<span class="string">&#x27;body&#x27;</span>).<span class="title function_">css</span>(<span class="string">&#x27;background&#x27;</span>, <span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`bar() <span class="subst">$&#123;data&#125;</span>`</span>)</span><br><span class="line">    <span class="title function_">otherFun</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">otherFun</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;otherFun()&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">myModule</span> = &#123; foo, bar &#125;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>, jQuery)</span><br></pre></td></tr></table></figure><ul><li>éš¾ä»¥ç»´æŠ¤ï¼Œä¾ç„¶è¦åˆ›å»ºå…¨å±€å˜é‡æ±¡æŸ“ç¯å¢ƒ</li><li>è¯·æ±‚è¿‡å¤šï¼ŒåŠ è½½é¡ºåºéœ€è¦æ‰‹åŠ¨ç®¡ç†</li><li>ä¾èµ–æ¨¡ç³Š</li></ul></li></ol><h3 id="æ¨¡å—åŒ–è§„èŒƒ"><a href="#æ¨¡å—åŒ–è§„èŒƒ" class="headerlink" title="æ¨¡å—åŒ–è§„èŒƒ"></a>æ¨¡å—åŒ–è§„èŒƒ</h3><ul><li><p><strong>CommonJS</strong> (åŒæ­¥æ¨¡å—åŠ è½½)</p><p>Node.js é‡‡ç”¨çš„å°±æ˜¯è¯¥è§„èŒƒï¼Œ<strong>åœ¨æœåŠ¡å™¨ç«¯ï¼Œæ¨¡å—çš„åŠ è½½æ˜¯è¿è¡Œæ—¶åŒæ­¥åŠ è½½çš„ï¼›åœ¨æµè§ˆå™¨ç«¯ï¼Œæ¨¡å—éœ€è¦æå‰ç¼–è¯‘æ‰“åŒ…å¤„ç†ã€‚</strong></p><p>æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚é€šè¿‡ <code>module.exports = value</code> &#x2F; <code>module.xxx = value</code> æš´éœ²æ¨¡å—ï¼Œå…¶ä¸¤è€…çš„åŒºåˆ«ä¸ºå‰è€…æ˜¯ä»£æ›¿ï¼Œåè€…æ˜¯æ·»åŠ ã€‚é€šè¿‡<code>require()</code>å¼•å…¥æ¨¡å—ã€‚</p><p><strong>ç‰¹ç‚¹</strong>:</p><ul><li>æ‰€æœ‰ä»£ç éƒ½è¿è¡Œåœ¨æ¨¡å—ä½œç”¨åŸŸï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸã€‚</li><li>æ¨¡å—å¯ä»¥å¤šæ¬¡åŠ è½½ï¼Œä½†æ˜¯åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶è¿è¡Œä¸€æ¬¡ï¼Œç„¶åè¿è¡Œç»“æœå°±è¢«ç¼“å­˜äº†ï¼Œä»¥åå†åŠ è½½ï¼Œå°±ç›´æ¥è¯»å–ç¼“å­˜ç»“æœã€‚è¦æƒ³è®©æ¨¡å—å†æ¬¡è¿è¡Œï¼Œå¿…é¡»æ¸…é™¤ç¼“å­˜ã€‚</li><li>æ¨¡å—åŠ è½½çš„é¡ºåºï¼ŒæŒ‰ç…§å…¶åœ¨ä»£ç ä¸­å‡ºç°çš„é¡ºåºã€‚</li></ul><p>CommonJS æ¨¡å—æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„ exports å±æ€§ï¼ˆå³ module.exportsï¼‰æ˜¯å¯¹å¤–çš„æ¥å£ã€‚<strong>åŠ è½½æŸä¸ªæ¨¡å—ï¼Œå…¶å®æ˜¯åŠ è½½è¯¥æ¨¡å—çš„ module.exports å±æ€§</strong>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">5</span></span><br><span class="line"><span class="keyword">var</span> addX = <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> value + x</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">x</span> = x</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">addX</span> = addX</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var example = require(&#x27;./example.js&#x27;);</span><br><span class="line">console.log(example.x); // 5</span><br><span class="line">console.log(example.addX(1)); // 6</span><br></pre></td></tr></table></figure><p><strong>åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ CommonJS</strong>ï¼šä½¿ç”¨ browserifyã€‚</p><p><em>Tip: <strong>CommonJS æ¨¡å—çš„åŠ è½½æœºåˆ¶æ˜¯ï¼Œè¾“å…¥çš„æ˜¯è¢«è¾“å‡ºçš„å€¼çš„æ‹·è´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦è¾“å‡ºä¸€ä¸ªå€¼ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–å°±å½±å“ä¸åˆ°è¿™ä¸ªå€¼</strong>ã€‚æ¨¡å—åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶è¿è¡Œä¸€æ¬¡ï¼Œç„¶åè¿è¡Œç»“æœå°±è¢«ç¼“å­˜ï¼Œä¹‹ååŠ è½½ä¼šç›´æ¥è¯»å–ç¼“å­˜çš„ç»“æœï¼Œæƒ³è¦æ¨¡å—å†æ¬¡è¿è¡Œå°±å¿…é¡»å…ˆæ¸…é™¤ç¼“å­˜ã€‚</em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// test.js</span></span><br><span class="line"><span class="keyword">let</span> counter = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">incCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  counter++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  counter,</span><br><span class="line">  incCounter,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">const</span> test1 = <span class="built_in">require</span>(<span class="string">&#x27;./test1.js&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test1.<span class="property">counter</span>) <span class="comment">// 3</span></span><br><span class="line">test1.<span class="title function_">incCounter</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test1.<span class="property">counter</span>) <span class="comment">// 3ï¼Œæœªæ¸…é™¤ç¼“å­˜</span></span><br></pre></td></tr></table></figure><p><code>test.js</code>æ¨¡å—åŠ è½½ä»¥åï¼Œå®ƒçš„å†…éƒ¨å˜åŒ–å°±å½±å“ä¸åˆ°è¾“å‡ºçš„<code>test.counter</code>äº†ã€‚è¿™æ˜¯å› ä¸º<code>test.counter</code>æ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œä¼šè¢«ç¼“å­˜ã€‚</p><p>é™¤éå†™æˆä¸€ä¸ªå‡½æ•°ï¼Œæ‰èƒ½å¾—åˆ°å†…éƒ¨å˜åŠ¨åçš„å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// test.js</span></span><br><span class="line"><span class="keyword">var</span> counter = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">incCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  counter++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// å†™æˆä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">counter</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> counter</span><br><span class="line">  &#125;,</span><br><span class="line">  incCounter,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>AMD</strong> (å¼‚æ­¥æ¨¡å—åŠ è½½)</p><p>ç”±äº Node.js ä¸»è¦ç”¨äºæœåŠ¡å™¨ç¼–ç¨‹ï¼Œæ¨¡å—æ–‡ä»¶ä¸€èˆ¬éƒ½å·²ç»å­˜åœ¨äºæœ¬åœ°ç¡¬ç›˜ï¼Œæ‰€ä»¥åŠ è½½èµ·æ¥æ¯”è¾ƒå¿«ï¼Œä¸ç”¨è€ƒè™‘éåŒæ­¥åŠ è½½çš„æ–¹å¼ï¼Œæ‰€ä»¥ CommonJS è§„èŒƒæ¯”è¾ƒé€‚ç”¨ã€‚ä½†æ˜¯ï¼Œ<strong>å¦‚æœæ˜¯æµè§ˆå™¨ç¯å¢ƒï¼Œè¦ä»æœåŠ¡å™¨ç«¯åŠ è½½æ¨¡å—ï¼Œè¿™æ—¶å°±å¿…é¡»é‡‡ç”¨éåŒæ­¥æ¨¡å¼ï¼Œå› æ­¤æµè§ˆå™¨ç«¯ä¸€èˆ¬é‡‡ç”¨ AMD è§„èŒƒ</strong>ã€‚æ­¤å¤– AMD è§„èŒƒæ¯” CommonJS è§„èŒƒåœ¨æµè§ˆå™¨ç«¯å®ç°è¦æ¥å¾—æ—©ã€‚</p><p>RequireJS æ˜¯ä¸€ä¸ªéµå®ˆ AMD è§„èŒƒçš„å·¥å…·åº“ï¼Œå¯ä»¥é€šè¿‡<code>define</code>çš„æ–¹æ³•å°†ä»£ç å®šä¹‰ä¸ºæ¨¡å—ï¼Œé€šè¿‡<code>require()</code>çš„æ–¹æ³•å®ç°æ¨¡å—çš„å¼•ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰æ²¡æœ‰ä¾èµ–çš„æ¨¡å—</span></span><br><span class="line"><span class="title function_">define</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> æ¨¡å—</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰æœ‰ä¾èµ–çš„æ¨¡å—</span></span><br><span class="line"><span class="title function_">define</span>([<span class="string">&#x27;module1&#x27;</span>, <span class="string">&#x27;module2&#x27;</span>], <span class="keyword">function</span> (<span class="params">m1, m2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> æ¨¡å—</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼•å…¥æ¨¡å—</span></span><br><span class="line"><span class="built_in">require</span>([<span class="string">&#x27;module1&#x27;</span>, <span class="string">&#x27;module2&#x27;</span>], <span class="keyword">function</span> (<span class="params">m1, m2</span>) &#123;</span><br><span class="line">  ä½¿ç”¨m1 / m2</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p><strong>ES6 æ¨¡å—</strong> (å¼‚æ­¥æ¨¡å—åŠ è½½)</p><p>ES6 æ¨¡å—çš„è®¾è®¡æ€æƒ³æ˜¯å°½é‡çš„<strong>é™æ€åŒ–</strong>ï¼Œä½¿å¾—ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚</p><p>é€šè¿‡ <code>export</code> (éé»˜è®¤æš´éœ²)&#x2F; <code>export default</code> (é»˜è®¤æš´éœ²)æš´éœ²æ¨¡å—ï¼Œ<code>import</code> å¯¼å…¥æ¨¡å—ã€‚éé»˜è®¤æš´éœ²æ—¶éœ€è¦ç”¨ä¸­æ‹¬å·è§„èŒƒï¼Œå¹¶ä¸”åœ¨å¯¼å…¥æ—¶è§£æ„èµ‹å€¼ã€‚é»˜è®¤æš´éœ²åˆ™ä¸å¿…ã€‚</p><p>è‹¥è¦åœ¨<code>Node.js</code>ä¸­ä½¿ç”¨ ESMï¼Œè¦æ±‚é‡‡ç”¨<code>.mjs</code>åç¼€æ–‡ä»¶åã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦è„šæœ¬æ–‡ä»¶é‡Œé¢ä½¿ç”¨<code>import</code>æˆ–è€…<code>export</code>å‘½ä»¤ï¼Œé‚£ä¹ˆå°±å¿…é¡»é‡‡ç”¨<code>.mjs</code>åç¼€åã€‚</p></li></ul><p><strong>ES6 å’Œ CommonJS æ¨¡å—çš„åŒºåˆ«</strong>:</p><ol><li>CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼Œ<strong>ES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨</strong>ã€‚</li><li><strong>CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£</strong>ã€‚</li><li>CommonJS æ¨¡å—çš„<code>require()</code>æ˜¯åŒæ­¥åŠ è½½æ¨¡å—ï¼ŒES6 æ¨¡å—çš„<code>import</code>å‘½ä»¤æ˜¯å¼‚æ­¥åŠ è½½ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// test.js</span></span><br><span class="line"><span class="keyword">var</span> counter = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">incCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  counter++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; counter, incCounter &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; incCounter, counter &#125; <span class="keyword">from</span> <span class="string">&#x27;./test.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter) <span class="comment">// 3</span></span><br><span class="line"><span class="comment">// ç»™å¯¼å…¥å˜é‡èµ‹å€¼ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="comment">// counter = 4 //Assignment to constant variable.</span></span><br><span class="line"><span class="title function_">incCounter</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li>CommonJS è§„èŒƒä¸»è¦ç”¨äºæœåŠ¡ç«¯ç¼–ç¨‹ï¼ŒåŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„ï¼Œè¿™å¹¶ä¸é€‚åˆåœ¨æµè§ˆå™¨ç¯å¢ƒï¼Œå› ä¸ºåŒæ­¥æ„å‘³ç€é˜»å¡åŠ è½½ï¼Œæµè§ˆå™¨èµ„æºæ˜¯å¼‚æ­¥åŠ è½½çš„ï¼Œå› æ­¤æœ‰äº† AMDã€CMD è§£å†³æ–¹æ¡ˆã€‚</li><li>AMD è§„èŒƒåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­å¼‚æ­¥åŠ è½½æ¨¡å—ï¼Œè€Œä¸”å¯ä»¥å¹¶è¡ŒåŠ è½½å¤šä¸ªæ¨¡å—ã€‚ä¸è¿‡ï¼ŒAMD è§„èŒƒå¼€å‘æˆæœ¬é«˜ï¼Œä»£ç çš„é˜…è¯»å’Œä¹¦å†™æ¯”è¾ƒå›°éš¾ï¼Œæ¨¡å—å®šä¹‰æ–¹å¼çš„è¯­ä¹‰ä¸é¡ºç•…ã€‚</li><li><strong>ES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ï¼Œè€Œä¸”å®ç°å¾—ç›¸å½“ç®€å•ï¼Œå®Œå…¨å¯ä»¥å–ä»£ CommonJS å’Œ AMD è§„èŒƒï¼Œæˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ¡ˆ</strong>ã€‚</li></ul><h2 id="ğŸ”§-å‰ç«¯æ„å»ºå·¥å…·"><a href="#ğŸ”§-å‰ç«¯æ„å»ºå·¥å…·" class="headerlink" title="ğŸ”§ å‰ç«¯æ„å»ºå·¥å…·"></a>ğŸ”§ å‰ç«¯æ„å»ºå·¥å…·</h2><h3 id="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ„å»ºå·¥å…·ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ„å»ºå·¥å…·ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ„å»ºå·¥å…·ï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ„å»ºå·¥å…·ï¼Ÿ</h3><ul><li>å½“ä½ ä½¿ç”¨ less,scss çš„æ—¶å€™æƒ³è‡ªåŠ¨ç¼–è¯‘æˆæµè§ˆå™¨è®¤è¯†çš„ cssã€‚</li><li>å½“ä½ æƒ³å°†å¤šä¸ª js æ–‡ä»¶è‡ªåŠ¨åˆå¹¶åˆ°ä¸€èµ·å‡å°‘ http è¯·æ±‚çš„æ—¶å€™ã€‚<ul><li><em>å½“æˆ‘ä»¬åœ¨<code>&lt;script&gt;</code>æ ‡ç­¾å†…å¼•å…¥ js æ–‡ä»¶ï¼Œæˆ–è€…åœ¨æ¨¡å—å†…ä½¿ç”¨<code>import</code>æ—¶ï¼Œéƒ½ä¼šå‘é€ä¸€ä¸ª http è¯·æ±‚ã€‚è¯·æ±‚è¿‡å¤šæ—¶é¡µé¢æ¶ˆè€—æ˜æ˜¾å¢åŠ ï¼Œå½“ä½ åœ¨ç¼–è¯‘é˜¶æ®µå°†å…¶åˆæˆä¸ºä¸€ä¸ª bundle æ—¶ï¼Œå°±åªéœ€è¦å‘é€ä¸€ä¸ª http è¯·æ±‚ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜äº†æ•ˆç‡ã€‚</em></li></ul></li><li>è‡ªåŠ¨å¼€å¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œä¿®æ”¹äº†ä»£ç æ— éœ€é‡æ–°æ‰“å¼€æµè§ˆå™¨é¡µé¢è‡ªåŠ¨åˆ·æ–°äº†ã€‚</li><li>å½“ä½ å†™äº†ä¸€ä¸ª ts æ–‡ä»¶ï¼Œå®ƒæ€ä¹ˆè‡ªåŠ¨è½¬åŒ–ä¸º js æ–‡ä»¶è¢«æµè§ˆå™¨å¼•å…¥ã€‚</li><li>â€¦more</li></ul><p><strong>webpack æ ¸å¿ƒæ¦‚å¿µ</strong>:</p><ul><li><p><code>entry</code>å…¥å£</p><p><code>entry</code>å‘Šè¯‰ webpack åº”è¯¥ä»å“ªé‡Œå¼€å§‹æ„å»ºå†…éƒ¨ä¾èµ–å›¾å¤„ç†ä¾èµ–å¹¶è¾“å‡ºåˆ° bundles é‡Œï¼Œé»˜è®¤æ˜¯ src æ–‡ä»¶ä¸‹çš„ index.jsã€‚</p></li><li><p><code>output</code> å‡ºå£</p><p>å‘Šè¯‰ webpack å¦‚ä½•è¾“å‡ºå®ƒæ‰€æ„å»ºçš„ bundlesï¼ŒåŒ…æ‹¬è·¯å¾„ã€å‘½åç­‰ï¼Œé»˜è®¤ä¸ºæ ¹ç›®å½•ä¸‹çš„ dist æ–‡ä»¶å¤¹ä¸‹ã€‚</p></li><li><p><code>loader</code> é¢„å¤„ç†å™¨</p><p>webpack åŸåˆ™ä¸Šåªèƒ½å¤„ç†<code>js</code>ã€<code>json</code>æ–‡ä»¶ï¼Œè€Œ<code>loader</code>å¯ä»¥ä½¿ webpack è¯†åˆ«å¤„ç†å…¶ä»–æ–‡ä»¶å¹¶è½¬åŒ–ä¸ºæ¨¡å—ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨css-loaderæ¥å¤„ç†css</span></span><br><span class="line">npn install css-loader -D</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>, <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/main.css&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.css&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>) <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [ <span class="comment">// è½¬æ¢è§„åˆ™</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: <span class="string">&#x27;css-loader&#x27;</span> <span class="comment">// use: å¯¹åº”çš„ Loader åç§°</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>plugin</code>æ’ä»¶</p><p>ä¸ <code>loader</code> ç”¨äºè½¬æ¢ç‰¹å®šç±»å‹çš„æ–‡ä»¶ä¸åŒï¼Œ<strong>æ’ä»¶ï¼ˆPluginï¼‰å¯ä»¥è´¯ç©¿ Webpack æ‰“åŒ…çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡</strong>ï¼Œæ˜¯é’ˆå¯¹æ•´ä¸ªæ‰“åŒ…æµç¨‹çš„æ’ä»¶å¤„ç†ï¼ˆæ‰“åŒ…ä¼˜åŒ–ã€èµ„æºç®¡ç†ã€æ³¨å…¥ç¯å¢ƒå˜é‡ï¼‰</p><p>å¦‚æœæˆ‘æƒ³æ‰“åŒ…åçš„èµ„æºæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šjs æˆ–è€… css æ–‡ä»¶å¯ä»¥è‡ªåŠ¨å¼•å…¥åˆ° Html ä¸­ï¼Œå°±éœ€è¦ä½¿ç”¨æ’ä»¶<code>html-webpack-plugin</code>æ¥å¸®åŠ©ä½ å®Œæˆè¿™ä¸ªæ“ä½œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin -D</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>, <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>) <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: <span class="string">&#x27;css-loader&#x27;</span> <span class="comment">// use: å¯¹åº”çš„ Loader åç§°</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯æ¬¡æ‰“åŒ…çš„æ—¶å€™ï¼Œæ‰“åŒ…ç›®å½•éƒ½ä¼šé—ç•™ä¸Šæ¬¡æ‰“åŒ…çš„æ–‡ä»¶ï¼Œä¸ºäº†ä¿æŒæ‰“åŒ…ç›®å½•çš„çº¯å‡€ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ‰“åŒ…å‰å°†æ‰“åŒ…ç›®å½•æ¸…ç©ºã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ’ä»¶<code>clean-webpack-plugin</code>æ¥å®ç°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ npm install clean-webpack-plugin -D</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="comment">// å¼•å…¥æ’ä»¶</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">CleanWebpackPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>() <span class="comment">// å¼•å…¥æ’ä»¶</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>mode</code>æ¨¡å¼</p><p>å€¼ä¸º<code>production</code>ã€<code>development</code>ã€<code>none</code>ä¸­çš„ä¸€ä¸ªï¼Œé»˜è®¤å€¼ä¸º<code>production</code>ã€‚</p></li></ul><ol><li>åœ¨<strong>ç”Ÿäº§ç¯å¢ƒ production</strong>ä¸‹ï¼Œå¯ä»¥é€šè¿‡å‹ç¼©ä»£ç æ¥å‡å°ä½“ç§¯ä¼˜åŒ–æ€§èƒ½ã€‚</li><li>åœ¨<strong>å¼€å‘ç¯å¢ƒ development</strong>ä¸‹ï¼Œçœäº†ä»£ç ä¼˜åŒ–æ­¥éª¤ï¼Œå¯ä»¥ä½¿ç”¨<code>devtool: source-map</code>æ¥æ¸…æ¥šçŸ¥é“æŠ¥é”™ä½ç½®åœ¨å“ªã€‚</li></ol><ul><li><p><code>devSever</code></p><p>å¼€å¯ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œå®ç°çƒ­æ›´æ–°ç­‰æœåŠ¡ã€‚</p></li></ul><p><strong>webpack çš„å·¥ä½œè¿‡ç¨‹</strong>:</p><ol><li>ä»å…¥å£(entry)å¼€å§‹ï¼Œ<strong>é€’å½’</strong>å…¥å£æ–‡ä»¶æ‰€ä¾èµ–çš„ moduleã€‚</li><li>æ‰¾åˆ°æ¯ä¸€ä¸ª moduleï¼Œæ ¹æ®å¯¹åº”çš„ loader è½¬åŒ–è¿™ä¸ª moduleã€‚</li><li>ç„¶åï¼Œå¯¹ module ä¾èµ–çš„æ‰€æœ‰ module è¿›è¡Œè½¬åŒ–ï¼Œç›´åˆ°æ²¡æœ‰ä¾èµ–ã€‚</li><li>å…¶æ¬¡ï¼Œä»¥å…¥å£æ–‡ä»¶(entry)ä¸ºå•ä½è¿›è¡Œåˆ†ç»„ï¼Œä¸€ä¸ª entry å’Œå…¶æ‰€æœ‰çš„ä¾èµ– module è¢«åˆ†åˆ°ä¸€ä¸ªå—(Chunk)ã€‚</li><li>æœ€åï¼Œwebpack ä¼šæŠŠæ‰€æœ‰ Chunk è½¬åŒ–æˆæ–‡ä»¶è¾“å‡ºï¼Œåœ¨æ•´ä¸ªæµç¨‹ä¸­ä¼šåœ¨æ°å½“æ—¶æœŸæ‰§è¡Œ plugin é‡Œå®šä¹‰çš„æ‰©å±•æ’ä»¶ã€‚</li></ol><p><strong>æ ¹æ®ä¾èµ–æ‰“åŒ…çš„å¥½å¤„</strong>:</p><ul><li>pass æ‰æ²¡æœ‰ç”¨åˆ°çš„é™æ€èµ„æºã€‚</li><li>å¤šæ¬¡å¼•ç”¨ä¸€ä¸ªä¾èµ–æ—¶å¯ä»¥åˆ†å‰²å‡ºè¿™ä¸ªä¾èµ–ï¼Œä»¥å…é‡å¤æ‰“åŒ…åˆ° bundle é‡Œã€‚</li></ul><p><strong>webpack å®‰è£…</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn webpack webpack-cli -D</span><br></pre></td></tr></table></figure><p>éœ€è¦åŒæ—¶å®‰è£…<code>webpack</code>å’Œ<code>webpack-cli</code>(webpack å‘½ä»¤è¡Œå·¥å…·)ã€‚</p><p>åœ¨<code>webpack.config.js</code>ä¸­é…ç½® webpackã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>, <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>), <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="vite"><a href="#vite" class="headerlink" title="vite"></a>vite</h3><p>è§£å†³äº† webpack å¦‚ä¸‹é—®é¢˜ï¼š</p><ol><li>æ„å»º bundle æ—¶é—´è¿‡é•¿ï¼ŒæœåŠ¡å™¨å¯åŠ¨è¾ƒæ…¢ã€‚</li><li>æ›´å¿«çš„<code>hmr</code>(çƒ­æ›´æ–°)ã€‚</li><li>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ã€‚</li><li>é…ç½®ç®€å•ï¼Œå¿«é€Ÿå¼€å‘ã€‚</li></ol><h2 id="ğŸ¢-å‰ç«¯è§„èŒƒå·¥å…·"><a href="#ğŸ¢-å‰ç«¯è§„èŒƒå·¥å…·" class="headerlink" title="ğŸ¢ å‰ç«¯è§„èŒƒå·¥å…·"></a>ğŸ¢ å‰ç«¯è§„èŒƒå·¥å…·</h2><h3 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h3><p>å¯ä»¥é™æ€çš„æ¨æ–­ä¸è§„å®šç±»å‹ï¼Œä¾¿äºç»´æŠ¤é¡¹ç›®ï¼Œä½†æ˜¯å¢åŠ äº†å¼€å‘æˆæœ¬ã€‚</p><h3 id="Eslint"><a href="#Eslint" class="headerlink" title="Eslint"></a>Eslint</h3><p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œå¾€å¾€éƒ½æ˜¯å¤šäººåè°ƒå¼€å‘ï¼Œä½†æ˜¯æ¯ä¸ªäººçš„ä»£ç é£æ ¼æ˜¯ä¸ä¸€æ ·çš„ï¼Œåœ¨å›¢é˜Ÿç»´æŠ¤çš„æ—¶å€™å¯èƒ½ä¼šé¢ä¸´å¾ˆå¤šçš„çŸ›ç›¾ã€‚é‚£ä¹ˆå·¥ç¨‹åŒ–è§£å†³çš„ä¸€ä¸ªé‡è¦çš„é—®é¢˜å°±æ˜¯ï¼šä½¿ä»£ç è§„èŒƒåŒ–ã€‚å½¢æˆç»Ÿä¸€çš„ä»£ç é£æ ¼ã€‚<code>ESLint</code>å°±æ˜¯ç”¨æ¥ç»Ÿä¸€ JavaScript ä»£ç é£æ ¼çš„å·¥å…·ï¼Œå³ä»£ç æ£€éªŒå·¥å…·ã€‚</p><ul><li>ESLint ä½¿ç”¨ Espree è§£æ JavaScriptã€‚</li><li>ESLint ä½¿ç”¨ AST å»åˆ†æä»£ç ä¸­çš„æ¨¡å¼ã€‚</li><li>ESLint æ˜¯å®Œå…¨æ’ä»¶åŒ–çš„ã€‚æ¯ä¸€ä¸ªè§„åˆ™éƒ½æ˜¯ä¸€ä¸ªæ’ä»¶å¹¶ä¸”ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æ›´å¤šçš„è§„åˆ™ã€‚</li></ul><h2 id="ğŸ -Web-API"><a href="#ğŸ -Web-API" class="headerlink" title="ğŸ  Web API"></a>ğŸ  Web API</h2><p>åº”ç”¨ç¨‹åºæ¥å£ï¼ˆAPIï¼ŒApplication Programming Interfaceï¼‰</p><h3 id="Storage"><a href="#Storage" class="headerlink" title="Storage"></a>Storage</h3><p>åœ¨ HTML5 ä¸­ï¼Œä¸ºäº†è§£å†³ cookie å­˜å‚¨ç©ºé—´ä¸è¶³çš„é—®é¢˜(cookie ä¸­æ¯æ¡ cookie çš„å­˜å‚¨ç©ºé—´ä¸º 4k)ï¼Œå¢åŠ äº†ä¸€ä¸ª localStorageï¼Œä¸»è¦æ˜¯ç”¨æ¥ä½œä¸ºæœ¬åœ°å­˜å‚¨çš„ã€‚</p><p><code>localStorage</code>Â  ä¸­çš„é”®å€¼å¯¹æ€»æ˜¯ä»¥å­—ç¬¦ä¸²çš„å½¢å¼å­˜å‚¨ã€‚</p><p>localStorage ä¸­ä¸€èˆ¬æµè§ˆå™¨æ”¯æŒçš„å®¹é‡å¤§å°æ˜¯ 5Mï¼Œé’ˆå¯¹ä¸åŒçš„æµè§ˆå™¨ï¼ŒlocalStorage å®¹é‡å¤§å°ä¼šæœ‰æ‰€ä¸åŒã€‚</p><p><code>sessionStorage</code>ï¼šä¸ºæ¯ä¸€ä¸ªç»™å®šçš„æºï¼ˆgiven originï¼‰ç»´æŒä¸€ä¸ªç‹¬ç«‹çš„å­˜å‚¨åŒºåŸŸï¼Œè¯¥å­˜å‚¨åŒºåŸŸåœ¨é¡µé¢ä¼šè¯æœŸé—´å¯ç”¨ï¼ˆå³åªè¦æµè§ˆå™¨å¤„äºæ‰“å¼€çŠ¶æ€ï¼ŒåŒ…æ‹¬é¡µé¢é‡æ–°åŠ è½½å’Œæ¢å¤ï¼‰ã€‚</p><p><code>localStorage</code>ï¼šåŒæ ·åŠŸèƒ½ï¼Œåœ¨æµè§ˆå™¨å…³é—­ï¼Œç„¶åé‡æ–°æ‰“å¼€åæ•°æ®ä»ç„¶å­˜åœ¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>) <span class="comment">// å°†valueä¿å­˜åœ¨keyä¸­</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> value = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;key&#x27;</span>) <span class="comment">// è·å–keyå€¼</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;key&#x27;</span>) <span class="comment">// ç§»é™¤keyå€¼</span></span><br></pre></td></tr></table></figure><p>è‹¥è®© Â <code>localStorage</code>Â  è®¾ç½®çš„æŸä¸ª Â <strong>ã€Œkeyã€</strong>Â  èƒ½åœ¨æŒ‡å®šæ—¶é—´å†…è‡ªåŠ¨å¤±æ•ˆã€‚</p><ul><li>åˆçº§è§£æ³•</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> expire = <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;key&#x27;</span>)</span><br><span class="line">&#125;, expire)</span><br></pre></td></tr></table></figure><h3 id="Audio"><a href="#Audio" class="headerlink" title="Audio"></a>Audio</h3><h3 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h3><h2 id="ğŸš—-å‰ç«¯æ€§èƒ½ä¼˜åŒ–"><a href="#ğŸš—-å‰ç«¯æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="ğŸš— å‰ç«¯æ€§èƒ½ä¼˜åŒ–"></a>ğŸš— å‰ç«¯æ€§èƒ½ä¼˜åŒ–</h2><h3 id="å›æµã€é‡ç»˜"><a href="#å›æµã€é‡ç»˜" class="headerlink" title="å›æµã€é‡ç»˜"></a>å›æµã€é‡ç»˜</h3><p>é¦–å…ˆæµè§ˆå™¨ä¼šå°† HTML è§£ææˆ DOMï¼ŒæŠŠ CSS è§£ææˆ CSSOMï¼Œå†å°†å…¶ç»“åˆäº§ç”Ÿ<code>render tree</code>ã€‚</p><p>å½“æ¸²æŸ“æ ‘ render tree ä¸­çš„ä¸€äº›å…ƒç´ éœ€è¦æ›´æ–°æ ·å¼ï¼Œä½†è¿™äº›æ ·å¼å±æ€§åªæ˜¯æ”¹å˜å…ƒç´ çš„å¤–è§‚ï¼Œé£æ ¼ï¼Œè€Œä¸ä¼šå½±å“å¸ƒå±€çš„ï¼Œæ¯”å¦‚<code>background-color</code>ã€‚åˆ™å°±å«ç§°ä¸º<strong>é‡ç»˜(repaint)</strong> ã€‚</p><p><strong>ç®€å•æ¥è¯´ï¼Œé‡ç»˜å°±æ˜¯å°†æ¸²æŸ“æ ‘èŠ‚ç‚¹è½¬æ¢ä¸ºå±å¹•ä¸Šçš„å®é™…åƒç´ ï¼Œä¸æ¶‰åŠé‡æ–°å¸ƒå±€é˜¶æ®µçš„ä½ç½®ä¸å¤§å°è®¡ç®—</strong></p><p>å½“<code>render tree</code>ä¸­çš„å…ƒç´ å› ä¸ºå°ºå¯¸ã€å¸ƒå±€ã€éšè—ç­‰æ”¹å˜éœ€è¦é‡æ–°æ„å»ºï¼Œç§°ä¸º**å›æµ(reflow)**ã€‚åœ¨å›æµçš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šä½¿æ¸²æŸ“æ ‘ä¸­å—åˆ°å½±å“çš„éƒ¨åˆ†å¤±æ•ˆï¼Œå¹¶é‡æ–°æ„é€ è¿™éƒ¨åˆ†çš„<code>render tree</code>ã€‚</p><p>å®Œæˆå›æµåï¼Œæµè§ˆå™¨ä¼šé‡æ–°ç»˜åˆ¶å—åˆ°å½±å“çš„éƒ¨åˆ†åˆ°å±å¹•ï¼Œè¯¥è¿‡ç¨‹ä¸ºé‡ç»˜ã€‚</p><p><strong>ç®€å•æ¥è¯´ï¼Œå›æµå°±æ˜¯è®¡ç®—å…ƒç´ åœ¨è®¾å¤‡å†…çš„ç¡®åˆ‡ä½ç½®å’Œå¤§å°å¹¶ä¸”é‡æ–°ç»˜åˆ¶ã€‚</strong></p><p>å›æµçš„ä»£ä»·è¦è¿œå¤§äºé‡ç»˜ã€‚</p><p><strong>å¹¶ä¸”å›æµå¿…ç„¶ä¼šé€ æˆé‡ç»˜ï¼Œä½†é‡ç»˜ä¸ä¸€å®šä¼šé€ æˆå›æµ</strong></p><p><strong>ä¼šå¯¼è‡´å›æµçš„æ“ä½œ</strong>:</p><ol><li><strong>é¡µé¢é¦–æ¬¡æ¸²æŸ“</strong>ï¼ˆæ— æ³•é¿å…ï¼Œä¸”å¼€é”€æœ€å¤§ï¼‰</li><li><strong>æµè§ˆå™¨çª—å£</strong>å¤§å°å‘ç”Ÿå˜åŒ–</li><li>å…ƒç´ å°ºå¯¸&#x2F;ä½ç½®å‘ç”Ÿæ”¹å˜</li><li>å…ƒç´ å†…å®¹å˜åŒ–</li><li>å…ƒç´ å­—ä½“å¤§å°</li><li>æ·»åŠ &#x2F;åˆ é™¤<strong>å¯è§</strong>çš„ DOM</li><li>css ä¼ªç±»</li><li>æŸ¥è¯¢å±æ€§&#x2F;è°ƒç”¨æ–¹æ³•</li></ol><p><strong>å¦‚ä½•å‡å°‘å›æµã€é‡ç»˜</strong>:</p><ol><li>åˆå¹¶æ ·å¼ä¿®æ”¹</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.box&#x27;</span>)</span><br><span class="line"></span><br><span class="line">el.<span class="property">style</span>.<span class="property">margin</span> = <span class="string">&#x27;5px&#x27;</span></span><br><span class="line">el.<span class="property">style</span>.<span class="property">borderRadius</span> = <span class="string">&#x27;12px&#x27;</span></span><br><span class="line">el.<span class="property">style</span>.<span class="property">boxShadow</span> = <span class="string">&#x27;1px 3px 4px #ccc&#x27;</span></span><br></pre></td></tr></table></figure><p>æ”¹ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">update</span>&#123;</span><br><span class="line">  <span class="attr">margin</span>: 5px;</span><br><span class="line">  border-<span class="attr">dadius</span>: 12px;</span><br><span class="line">  box-<span class="attr">shadow</span>: 1px 3px 4px #ccc</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.box&#x27;</span>)</span><br><span class="line">el.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;update&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li><p>é¿å…ä½¿ç”¨ table å¸ƒå±€</p></li><li><p>CSS é€‰æ‹©ç¬¦ä»æœ‰å¾€å·¦åŒ¹é…æŸ¥æ‰¾ï¼Œé¿å…èŠ‚ç‚¹å±‚çº§è¿‡å¤š</p></li><li><p><strong>DOM ç¦»çº¿å¤„ç†ï¼Œå‡å°‘å›æµé‡ç»˜æ¬¡æ•°</strong></p><p>ç¦»çº¿çš„ DOM ä¸å±äºå½“å‰ DOM æ ‘ä¸­çš„ä»»ä½•ä¸€éƒ¨åˆ†ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬å¯¹ç¦»çº¿ DOM å¤„ç†å°±ä¸ä¼šå¼•èµ·é¡µé¢çš„å›æµä¸é‡ç»˜ã€‚</p><p>ä½¿ç”¨<code>display: none</code>ï¼Œå°†å…ƒç´ ä»æ¸²æŸ“æ ‘ä¸­å®Œå…¨ç§»é™¤ï¼Œä¹‹åå†åœ¨è¯¥ DOM ä¸Šæ“ä½œï¼Œå°±ä¸ä¼šè§¦å‘å›æµé‡ç»˜ï¼Œæœ€åå°† display æ”¹ä¸ºæ˜¾ç¤ºï¼Œå°±åªä¼šè§¦å‘è¿™ä¸€æ¬¡å›æµé‡ç»˜ã€‚</p><p>Tip: <code>visibility: hidden</code> çš„å…ƒç´ åªå¯¹é‡ç»˜æœ‰å½±å“ï¼Œä¸å½±å“é‡æ’ã€‚</p><p>ä½¿ç”¨<code>documentFragment</code>åˆ›å»ºä¸€ä¸ª dom æ–‡æ¡£ç‰‡æ®µï¼Œåœ¨å®ƒä¸Šé¢æ‰¹é‡æ“ä½œ domï¼Œå®Œæˆä¹‹åå†æ·»åŠ åˆ°æ–‡æ¡£ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.box&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> fruits = [<span class="string">&#x27;front&#x27;</span>, <span class="string">&#x27;nanjiu&#x27;</span>, <span class="string">&#x27;study&#x27;</span>, <span class="string">&#x27;code&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> fragment = <span class="variable language_">document</span>.<span class="title function_">createDocumentFragment</span>()</span><br><span class="line"></span><br><span class="line">fruits.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> li = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;li&#x27;</span>)</span><br><span class="line">  li.<span class="property">innerHTML</span> = item</span><br><span class="line">  fragment.<span class="title function_">appendChild</span>(li)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">el.<span class="title function_">appendChild</span>(fragment)</span><br></pre></td></tr></table></figure><p>DOM è„±ç¦»æ™®é€šæ–‡æœ¬æµ</p><p>ä½¿ç”¨<code>absulute</code>&#x2F;<code>fixed</code>è®©å…ƒç´ è„±ç¦»æ™®é€šæ–‡æœ¬æµï¼Œä½¿ç”¨ç»å¯¹å®šä½ä¼šä½¿æ”¹å…ƒç´ å•ç‹¬æˆä¸ºæ¸²æŸ“æ ‘ä¸­ body çš„ä¸€ä¸ªå­å…ƒç´ ï¼Œé‡æµå¼€é”€è¾ƒå°ã€‚</p></li><li><p>CSS3 ç¡¬ä»¶åŠ é€Ÿ(GPU åŠ é€Ÿ)</p><p>ä½¿ç”¨<code>transform</code>ã€<code>opacity</code>ã€<code>filters</code>ï¼Œä¸ä¼šå¼•èµ·å›æµé‡ç»˜ã€‚</p></li></ol>]]></content>
    
    
    <summary type="html">æ¨¡å—åŒ–å°±æ˜¯å°†å¤æ‚çš„ç¨‹åºæŒ‰ç…§ä¸€å®šçš„è§„èŒƒå°è£…æˆå‡ ä¸ªå—ï¼Œå¹¶ç»„åˆåœ¨ä¸€èµ·ï¼Œæ¨¡å—ä¸­çš„æ•°æ®ä¸å®ç°æ˜¯ç§æœ‰çš„ï¼Œåªå‘å¤–éƒ¨æš´éœ²ä¸€äº›æ¥å£ä¸å…¶ä»–æ¨¡å—é€šä¿¡ã€‚èƒ½å¤Ÿé¿å…å‘½åå†²çªã€æ±¡æŸ“å…¨å±€ï¼Œå¯ä»¥æ›´å¥½çš„åˆ†ç¦»ï¼ŒæŒ‰éœ€åŠ è½½ï¼Œæ›´é«˜çš„å¤ç”¨æ€§ã€å¯ç§»æ¤æ€§ç­‰ã€‚ä½¿ä»¥å‰çš„éš¾ä»¥ç»´æŠ¤ï¼Œä¾ç„¶è¦åˆ›å»ºå…¨å±€å˜é‡æ±¡æŸ“ç¯å¢ƒã€è¯·æ±‚è¿‡å¤šï¼ŒåŠ è½½é¡ºåºéœ€è¦æ‰‹åŠ¨ç®¡ç†ã€ä¾èµ–æ¨¡ç³Šå¾—åˆ°äº†å¾ˆå¥½çš„è§£å†³...</summary>
    
    
    
    
    <category term="æ¨¡å—åŒ–" scheme="http://example.com/tags/%E6%A8%A1%E5%9D%97%E5%8C%96/"/>
    
  </entry>
  
</feed>
